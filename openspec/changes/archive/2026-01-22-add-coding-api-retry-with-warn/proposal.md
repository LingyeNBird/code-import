# 变更: 为 Coding API 添加重试机制和优雅错误处理

## 为什么需要这个变更

当前在 `pkg/vcs/coding.go:41-43` 中,`GetProjectByName` API 调用失败时,会立即记录 ERROR 级别日志并返回一个包含错误信息的 `SubGroup`。这种方式存在以下问题:

1. **缺少重试逻辑**: 暂时性的网络故障或 API 限流会导致立即失败,没有重试机会
2. **日志级别不当**: 使用 ERROR 级别对于可恢复的错误过于严重
3. **错误信息嵌入数据**: 将错误信息嵌入到 `Desc` 字段并使用 "ERROR" 作为 `Remark` 会导致数据污染
4. **与项目模式不一致**: 代码库的其他部分(如 `pkg/git/git.go`)使用了带指数退避的重试机制

迁移工具应该能够应对暂时性的 API 故障,在重试后仍然失败时提供清晰的 WARN 级别警告日志(包含具体错误信息),同时不终止整个迁移过程。

## 变更内容

- 在 `pkg/vcs/coding.go:GetSubGroup()` 方法(第40-67行)中为 `GetProjectByName` 调用添加重试机制
- 重试策略: 3次尝试,间隔分别为 1秒、5秒、10秒(与 `pkg/git/git.go` 保持一致)
- 每次重试失败时记录 WARN 级别日志,包含尝试次数和具体错误
- 3次重试后最终失败时,记录最终的 WARN 级别日志,说明已重试3次并打印完整错误信息
- 返回一个干净的 `SubGroup`,仅填充 `Name` 字段(不嵌入错误信息到 `Desc` 或 `Remark`)
- 继续迁移流程而不退出程序,允许其他仓库继续处理
- 添加必要的 `import "time"` 用于重试间隔控制

## 影响范围

**受影响的规范:**
- `error-handling` (新增能力规范)

**受影响的代码:**
- `pkg/vcs/coding.go:40-67` - 重写 `GetSubGroup()` 方法,添加重试循环

**不受影响的代码:**
- `GetReleases()` 方法(第101-108行)暂不修改,保持当前行为

**收益:**
- 提高对暂时性网络/API 故障的容错能力
- 使用更合适的 WARN 级别而不是 ERROR 级别记录可恢复错误
- 返回干净的数据结构,不污染业务数据
- 即使项目元数据获取失败,迁移流程仍会继续
- 与代码库中其他重试逻辑保持一致(如 `git.go`)

**风险:**
- 失败的 API 调用会略微增加迁移时间(每次失败最多约16秒: 1+5+10)
- 如果不监控 WARN 日志,可能会忽略持久性的 API 配置问题

**破坏性变更:**
- 无破坏性变更,完全向后兼容
